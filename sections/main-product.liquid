<section class="product-section">
  <div class="product-container">
    <div class="product-gallery">
      {% if product.featured_image %}
        <img src="{{ product.featured_image | img_url: '600x600' }}" alt="{{ product.title }}" class="main-image">
      {% endif %}
      
      {% if product.images.size > 1 %}
        <div class="product-thumbnails">
          {% for image in product.images %}
            <img src="{{ image | img_url: '100x100' }}" alt="{{ product.title }}" class="thumbnail" data-full="{{ image | img_url: '600x600' }}">
          {% endfor %}
        </div>
      {% endif %}
    </div>
    
    <div class="product-details">
      <h1>{{ product.title }}</h1>
      
      <div class="product-rating">
        {% if product.metafields.reviews.rating %}
          <span class="rating">{{ product.metafields.reviews.rating.value }}/5</span>
        {% endif %}
      </div>
      
      <div class="product-price">
        {% if product.compare_at_price > product.price %}
          <span class="original-price">{{ product.compare_at_price | money }}</span>
        {% endif %}
        <span class="current-price">{{ product.price | money }}</span>
      </div>
      
      <div class="product-description">
        {{ product.description }}
      </div>
      
      {% if product.available %}
        <form method="post" action="/cart/add" class="product-form">
          <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
          
          <div class="product-options">
            {% for option in product.options_with_values %}
              <div class="option">
                <label for="option-{{ option.name }}">{{ option.name }}</label>
                <select id="option-{{ option.name }}" name="properties[{{ option.name }}]">
                  {% for value in option.values %}
                    <option value="{{ value }}">{{ value }}</option>
                  {% endfor %}
                </select>
              </div>
            {% endfor %}
          </div>
          
          <div class="quantity-selector">
            <label for="quantity">Quantity:</label>
            <input type="number" id="quantity" name="quantity" value="1" min="1">
          </div>
          
          <button type="submit" class="btn btn-primary add-to-cart-btn">
            Add to Cart
          </button>
        </form>
      {% else %}
        <div class="sold-out">
          <p>This product is currently sold out.</p>
        </div>
      {% endif %}
      
      <div class="product-meta">
        <p><strong>SKU:</strong> {{ product.selected_or_first_available_variant.sku }}</p>
        <p><strong>Type:</strong> {{ product.type }}</p>
        <p><strong>Vendor:</strong> {{ product.vendor }}</p>
      </div>
    </div>
  </div>
</section>

<style>
  .product-section {
    padding: 2rem 1rem;
  }
  
  .product-container {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
  }
  
  @media (max-width: 768px) {
    .product-container {
      grid-template-columns: 1fr;
    }
  }
  
  .product-gallery {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  
  .main-image {
    width: 100%;
    height: auto;
    border-radius: 0.5rem;
  }
  
  .product-thumbnails {
    display: flex;
    gap: 0.5rem;
    overflow-x: auto;
  }
  
  .thumbnail {
    width: 80px;
    height: 80px;
    object-fit: cover;
    border-radius: 0.25rem;
    cursor: pointer;
    border: 2px solid transparent;
    transition: border-color 0.2s;
  }
  
  .thumbnail:hover,
  .thumbnail.active {
    border-color: #6a8f53;
  }
  
  .product-details h1 {
    font-size: 2rem;
    margin-bottom: 1rem;
  }
  
  .product-rating {
    margin-bottom: 1rem;
  }
  
  .product-price {
    display: flex;
    gap: 1rem;
    align-items: center;
    margin-bottom: 1rem;
    font-size: 1.5rem;
  }
  
  .original-price {
    text-decoration: line-through;
    color: #999;
  }
  
  .current-price {
    font-weight: 700;
    color: #6a8f53;
  }
  
  .product-description {
    margin-bottom: 2rem;
    line-height: 1.6;
  }
  
  .product-options {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 1.5rem;
  }
  
  .option label {
    display: block;
    font-weight: 600;
    margin-bottom: 0.5rem;
  }
  
  .option select {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #ddd;
    border-radius: 0.25rem;
    font-size: 1rem;
  }
  
  .quantity-selector {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
  }
  
  .quantity-selector input {
    width: 80px;
    padding: 0.5rem;
    border: 1px solid #ddd;
    border-radius: 0.25rem;
  }
  
  .add-to-cart-btn {
    width: 100%;
    padding: 1rem;
    font-size: 1rem;
  }
  
  .sold-out {
    padding: 1rem;
    background-color: #f0f0f0;
    border-radius: 0.5rem;
    text-align: center;
  }
  
  .product-meta {
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid #ddd;
  }
  
  .product-meta p {
    margin: 0.5rem 0;
    font-size: 0.875rem;
  }
</style>

<script>
  document.querySelectorAll('.thumbnail').forEach(thumb => {
    thumb.addEventListener('click', function() {
      const fullImage = this.getAttribute('data-full');
      document.querySelector('.main-image').src = fullImage;
      
      document.querySelectorAll('.thumbnail').forEach(t => t.classList.remove('active'));
      this.classList.add('active');
    });
  });
</script>

{% schema %}
{
  "name": "Main Product",
  "settings": [],
  "presets": [
    {
      "name": "Main Product"
    }
  ]
}
{% endschema %}
